<div class="tree-container" [class.col-sm-12]="true" *ngIf="(showAll && root != null) || feature!=null" style="margin-bottom: 10px">
    <div [class.col-sm-10]="true">
        <span>
            <div style="display: table-cell;">
                <nb-select *ngIf="!loading" class="full-no-padding" [disabled]="readonly" placeholder="Select A purchase to be added" (selectedChange)="selectPurchaseFromSelect($event)">
                    <nb-select-label>
                        Select A purchase to be added
                      </nb-select-label>
                        <nb-option hero *ngFor="let option of purchasesForSelect" value="{{option.id}}">
                            <p [innerHTML]="option.text | replaceLineBreak"></p>
                        </nb-option>
                </nb-select>
            </div>
        </span>
    </div>
</div>
<div class="includedItems">
    <div *ngFor="let includedPurch of getIncludedFeatures(); let idx = index">
        <div [class.panel]="shouldStyleCell()" class="transBack" [class.panel-warning]="shouldStyleCell()" style="margin-bottom: 2px; margin-top: 2px;">
            <div class="panel-body" [class.smallPadding]="shouldStyleCell()" [class.noPadding]="true" [class.noRightPadding]="false">
                <ul class="list-group" style="margin: 0px; background-color: transparent">
                    <table class="myTable table-hover feature-cell" [style.background-color]="getBackgroundStyle()" [style.color]="getColorStyle()"
                           [class.regular-cell]="true"
                           [class.panel]="true">
                        <tr *ngIf="includedPurch != null">
                            <td style="width: 3%; vertical-align: middle;" (click)="cellClicked()" class="align-right somePad" [style.color]="getColorStyle()"></td>
                            <td style="width: 92%; text-align: start;  vertical-align: middle; overflow: hidden;text-overflow: ellipsis;" class="align-left" align="left"><a class="cursor" [style.color]="getTextColor()">{{_featureUtils.getDisplayNameForBothPurchaseAndMX(includedPurch)}}</a></td>
                            <td style="width: 5%; text-align: center;  vertical-align: middle; overflow: hidden;text-overflow: ellipsis;" class="align-right" align="center">
                                <span style="cursor: pointer">
                                        <i  style="cursor: pointer" class="fa ion-trash-b remove-order-icon button-behavior" (click)="removePurchase(includedPurch)" *ngIf = "!readonly && isAlreadyIncluded(includedPurch)"></i>
                                        <i  style="cursor: pointer" class="ion-plus button-behavior add-subfeature-button" (click)="addPurchase(includedPurch)" *ngIf="!readonly && !isAlreadyIncluded(includedPurch)"></i>
                                </span>
                            </td>
                        </tr>
                    </table>
                </ul>
            </div>
        </div>
    </div>
</div>

